# 👥 人材紹介システム - 開発ガイド

## 🎯 安全な開発フロー（非エンジニア向け）

### 🛡️ 基本原則
1. **常にバックアップ** - 変更前に必ずコミット
2. **小さく進める** - 一度に一つの機能だけ変更
3. **テストしてから進む** - 動作確認後に次のステップ
4. **戻せる状態を保つ** - いつでも前のバージョンに戻せる

---

## 📋 開発手順テンプレート

### ステップ 1: 現状保存
```bash
# 現在の状態をコミット
git add .
git commit -m "作業前の状態保存: [何をしようとしているか]"
```

### ステップ 2: 作業実行
- **一つだけ変更** (複数同時はNG)
- **頻繁にテスト** (ブラウザで動作確認)

### ステップ 3: 動作確認
- [ ] ダッシュボードが表示される
- [ ] 求職者フォームが動作する  
- [ ] 求人管理が動作する
- [ ] API設定が動作する

### ステップ 4: コミット
```bash
# 変更をコミット
git add .
git commit -m "完了: [何を変更したか] - 動作確認済み"
```

---

## 🚨 トラブル時の対処法

### 問題発生時（即座に実行）
```bash
# 最後の動作確認済み状態に戻る
git log --oneline -10    # 最近のコミットを確認
git reset --hard [コミットID]  # 指定バージョンに戻る
```

### 緊急時（全てリセット）
```bash
# 最初の動作版に戻る
git reset --hard HEAD~1  # 1つ前のコミットに戻る
```

---

## 📝 コミットメッセージ規約

### 良い例
- `✅ 追加: 求職者検索機能 - テスト完了`
- `🔧 修正: ダッシュボード統計表示エラー - 動作確認済み`  
- `♻️ リファクタリング: API呼び出し部分を整理 - 機能変更なし`
- `📚 ドキュメント: 使用手順書を更新`

### 悪い例（やらない）
- `update`
- `fix bug`
- `いろいろ変更`

---

## 🎲 リファクタリング計画

### 優先順位1: ファイル整理
```
現在:
├── index-dashboard.html (ダッシュボード)
├── job-seeker-form-v2.html (求職者フォーム)  
├── job-listing-manager-harmos.html (求人管理)
├── api-setup.html (API設定)
└── sheets-api-config.js (API連携)

提案:
├── index.html (メインエントリー)
├── pages/
│   ├── dashboard.html
│   ├── job-seeker-form.html
│   ├── job-manager.html
│   └── api-setup.html
├── js/
│   ├── sheets-api.js
│   ├── common.js
│   └── utils.js
└── css/
    └── styles.css
```

### 優先順位2: コードの共通化
- CSS共通部分の抽出
- JavaScript関数の共通化
- 設定値の一元管理

### 優先順位3: 機能追加準備
- テスト機能の追加
- ログ機能の強化
- エラーハンドリング改善

---

## 🔄 バージョン管理戦略

### ブランチ戦略（シンプル版）
```bash
# メインブランチ（本番版）
main ← 動作確認済みのみ

# 作業用ブランチ
git checkout -b feature/[機能名]
# 作業...
# テスト...
git checkout main
git merge feature/[機能名]
```

### タグ管理
```bash
# 動作確認済みバージョンにタグ付け
git tag -a v1.0 -m "初期リリース版"
git tag -a v1.1 -m "リファクタリング完了版"
```

---

## 📊 品質チェックリスト

### リリース前確認事項
- [ ] 全ページが正常表示される
- [ ] フォーム送信が動作する
- [ ] API連携が動作する
- [ ] エラーメッセージが適切に表示される
- [ ] 複数ブラウザで動作する
- [ ] モバイルで表示が崩れない

### コード品質確認
- [ ] コンソールエラーがない
- [ ] HTMLバリデーションエラーがない
- [ ] 不要なコードが残っていない
- [ ] コメントが適切についている

---

## 🚀 次のマイルストーン

### Phase 2: リファクタリング
1. ファイル構造整理
2. CSS/JS共通化
3. コード品質向上

### Phase 3: 機能拡張
1. データエクスポート機能
2. 検索・フィルタ機能  
3. レポート機能

### Phase 4: 運用改善
1. 自動バックアップ
2. ログ分析
3. パフォーマンス最適化

---

## 🆘 ヘルプ・参考資料

### 基本コマンド早見表
```bash
# 状況確認
git status          # 現在の状態
git log --oneline   # コミット履歴

# 安全な作業
git add .           # 変更をステージング  
git commit -m "メッセージ"  # コミット
git diff            # 変更差分を確認

# 緊急時
git reset --hard HEAD~1  # 1つ前に戻る
git reflog          # 操作履歴を確認
```

### トラブルシューティング
- **ファイルが消えた** → `git reflog` で復旧
- **動かなくなった** → `git reset --hard [動作していたコミット]`
- **変更を取り消したい** → `git checkout -- [ファイル名]`

---

**📝 このファイルは定期的に更新してください**
**🔄 開発フローに慣れてきたら、より高度な手法を導入していきましょう**